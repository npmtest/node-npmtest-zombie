<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-zombie/node_modules/zombie/lib/eventloop.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-zombie">npmtest-zombie (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-zombie/node_modules/zombie/lib/eventloop.js</span></h1>
    <h2>
        
        Statements: <span class="metric">10.07% <small>(29 / 288)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 100)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">7.84% <small>(4 / 51)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.15% <small>(29 / 260)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-zombie/node_modules/zombie/lib/</a> &#187; eventloop.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// The event loop.
//
// Each browser has an event loop, which processes asynchronous events like
// loading pages and resources, XHR, timeouts and intervals, etc. These are
// procesed in order.
//
// The purpose of the event loop is two fold:
// - To get events processed in the right order for the active window (and only
//   the active window)
// - And to allow the code to wait until all events have been processed
//   (browser.wait, .visit, .pressButton, etc)
//
// The event loop has one interesting method: `wait`.
//
// Each window maintains its own event queue. Its interesting methods are
// `enqueue`, `http`, `dispatch` and the timeout/interval methods.
&nbsp;
'use strict';
&nbsp;
var _createClass = require('babel-runtime/helpers/create-class')['default'];
&nbsp;
var _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];
&nbsp;
var _get = require('babel-runtime/helpers/get')['default'];
&nbsp;
var _inherits = require('babel-runtime/helpers/inherits')['default'];
&nbsp;
var _getIterator = require('babel-runtime/core-js/get-iterator')['default'];
&nbsp;
var _Array$from = require('babel-runtime/core-js/array/from')['default'];
&nbsp;
var assert = require('assert');
&nbsp;
var _require = require('events');
&nbsp;
var EventEmitter = _require.EventEmitter;
&nbsp;
// Wrapper for a timeout (setTimeout)
&nbsp;
var Timeout = (function () {
&nbsp;
  // eventQueue - Reference to the event queue
  // fn         - When timer fires, evaluate this function
  // delay      - How long to wait
  // remove     - Call this to discard timer
  //
  // Instance variables add:
  // handle  - Node.js timeout handle
  // next    - When is this timer firing next
&nbsp;
<span class="fstat-no" title="function not covered" >  function Timeout(eventQueue, fn, delay, remove) {</span>
<span class="cstat-no" title="statement not covered" >    _classCallCheck(this, Timeout);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.eventQueue = eventQueue;</span>
<span class="cstat-no" title="statement not covered" >    this.fn = fn;</span>
<span class="cstat-no" title="statement not covered" >    this.delay = Math.max(delay || 0, 0);</span>
<span class="cstat-no" title="statement not covered" >    this.remove = remove;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.handle = global.setTimeout(this.fire.bind(this), this.delay);</span>
<span class="cstat-no" title="statement not covered" >    this.next = Date.now() + this.delay;</span>
  }
&nbsp;
  // Wrapper for an interval (setInterval)
&nbsp;
  _createClass(Timeout, [{
    key: 'fire',
    value: <span class="fstat-no" title="function not covered" >function fire() {</span>
<span class="cstat-no" title="statement not covered" >      var _this = this;</span>
&nbsp;
      // In response to Node firing setTimeout, but only allowed to process this
      // event during a wait()
<span class="cstat-no" title="statement not covered" >      this.eventQueue.enqueue(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        var eventLoop = _this.eventQueue.eventLoop;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        eventLoop.emit('setTimeout', _this.fn, _this.delay);</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          _this.eventQueue.window._evaluate(_this.fn);</span>
        } catch (error) {
<span class="cstat-no" title="statement not covered" >          eventLoop.emit('error', error);</span>
        }
      });
<span class="cstat-no" title="statement not covered" >      this.remove();</span>
    }
&nbsp;
    // clearTimeout
  }, {
    key: 'stop',
    value: <span class="fstat-no" title="function not covered" >function stop() {</span>
<span class="cstat-no" title="statement not covered" >      global.clearTimeout(this.handle);</span>
<span class="cstat-no" title="statement not covered" >      this.remove();</span>
    }
  }]);
&nbsp;
  return Timeout;
})();
&nbsp;
var Interval = (function () {
&nbsp;
  // eventQueue - Reference to the event queue
  // fn        - When timer fires, evaluate this function
  // interval  - Interval between firing
  // remove    - Call this to discard timer
  //
  // Instance variables add:
  // handle  - Node.js interval handle
  // next    - When is this timer firing next
&nbsp;
<span class="fstat-no" title="function not covered" >  function Interval(eventQueue, fn, interval, remove) {</span>
<span class="cstat-no" title="statement not covered" >    _classCallCheck(this, Interval);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.eventQueue = eventQueue;</span>
<span class="cstat-no" title="statement not covered" >    this.fn = fn;</span>
<span class="cstat-no" title="statement not covered" >    this.interval = Math.max(interval || 0, 0);</span>
<span class="cstat-no" title="statement not covered" >    this.remove = remove;</span>
<span class="cstat-no" title="statement not covered" >    this.fireInProgress = false;</span>
<span class="cstat-no" title="statement not covered" >    this.handle = global.setInterval(this.fire.bind(this), this.interval);</span>
<span class="cstat-no" title="statement not covered" >    this.next = Date.now() + this.interval;</span>
  }
&nbsp;
  // Each window has an event queue that holds all pending events.  Various
  // browser features push new functions into the queue (e.g. process XHR
  // response, setTimeout fires).  The event loop is responsible to pop these
  // events from the queue and run them, but only during browser.wait().
  //
  // In addition, the event queue keeps track of all outstanding timers
  // (setTimeout/setInterval) so it can return consecutive handles and clean them
  // up during window.destroy().
  //
  // In addition, we keep track of when the browser is expecting an event to
  // arrive in the queue (e.g. sent XHR request, expecting an event to process the
  // response soon enough).  The event loop uses that to determine if it's worth
  // waiting.
&nbsp;
  _createClass(Interval, [{
    key: 'fire',
    value: <span class="fstat-no" title="function not covered" >function fire() {</span>
<span class="cstat-no" title="statement not covered" >      var _this2 = this;</span>
&nbsp;
      // In response to Node firing setInterval, but only allowed to process this
      // event during a wait()
<span class="cstat-no" title="statement not covered" >      this.next = Date.now() + this.interval;</span>
&nbsp;
      // setInterval events not allowed to overlap, don't queue two at once
<span class="cstat-no" title="statement not covered" >      if (this.fireInProgress) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >      this.fireInProgress = true;</span>
<span class="cstat-no" title="statement not covered" >      this.eventQueue.enqueue(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        _this2.fireInProgress = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        var eventLoop = _this2.eventQueue.eventLoop;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        eventLoop.emit('setInterval', _this2.fn, _this2.interval);</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          _this2.eventQueue.window._evaluate(_this2.fn);</span>
        } catch (error) {
<span class="cstat-no" title="statement not covered" >          eventLoop.emit('error', error);</span>
        }
      });
    }
&nbsp;
    // clearTimeout
  }, {
    key: 'stop',
    value: <span class="fstat-no" title="function not covered" >function stop() {</span>
<span class="cstat-no" title="statement not covered" >      global.clearInterval(this.handle);</span>
<span class="cstat-no" title="statement not covered" >      this.remove();</span>
    }
  }]);
&nbsp;
  return Interval;
})();
&nbsp;
var EventQueue = (function () {
&nbsp;
  // Instance variables:
  // browser          - Reference to the browser
  // eventLoop        - Reference to the browser's event loop
  // queue            - FIFO queue of functions to call
  // expecting        - These are holding back the event loop
  // timers           - Sparse array of timers (index is the timer handle)
  // eventSources     - Additional sources for events (SSE, WS, etc)
  // nextTimerHandle  - Value of next timer handler
&nbsp;
<span class="fstat-no" title="function not covered" >  function EventQueue(window) {</span>
<span class="cstat-no" title="statement not covered" >    _classCallCheck(this, EventQueue);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.window = window;</span>
<span class="cstat-no" title="statement not covered" >    this.browser = window.browser;</span>
<span class="cstat-no" title="statement not covered" >    this.eventLoop = this.browser._eventLoop;</span>
<span class="cstat-no" title="statement not covered" >    this.queue = [];</span>
<span class="cstat-no" title="statement not covered" >    this.expecting = 0;</span>
<span class="cstat-no" title="statement not covered" >    this.timers = [];</span>
<span class="cstat-no" title="statement not covered" >    this.eventSources = [];</span>
<span class="cstat-no" title="statement not covered" >    this.nextTimerHandle = 1;</span>
  }
&nbsp;
  // The browser event loop.
  //
  // Each browser has one event loop that processes events from the queues of the
  // currently active window and its frames (child windows).
  //
  // The wait method is responsible to process all pending events.  It goes idle
  // once:
  // - There are no more events waiting in the queue (of the active window)
  // - There are no more timers waiting to fire (next -&gt; Infinity)
  // - No future events are expected to arrive (e.g. in-progress XHR requests)
  //
  // The wait method will complete before the loop goes idle, if:
  // - Past the specified timeout
  // - The next scheduled timer is past the specified timeout
  // - The completio function evaluated to true
  //
  // While processing, the event loop emits the following events (on the browser
  // object):
  // tick(next) - Emitted after executing a single event; the argument is the
  //              expected duration until the next event (in ms)
  // idle       - Emitted when there are no more events (queued or expected)
  // error(err) - Emitted after an error
&nbsp;
  // Cleanup when we dispose of the window
&nbsp;
  _createClass(EventQueue, [{
    key: 'destroy',
    value: <span class="fstat-no" title="function not covered" >function destroy() {</span>
<span class="cstat-no" title="statement not covered" >      if (!this.queue) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >      this.queue = null;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var _iteratorNormalCompletion = true;</span>
<span class="cstat-no" title="statement not covered" >      var _didIteratorError = false;</span>
<span class="cstat-no" title="statement not covered" >      var _iteratorError = undefined;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        for (var _iterator = _getIterator(this.timers), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {</span>
<span class="cstat-no" title="statement not covered" >          var timer = _step.value;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          if (timer) <span class="cstat-no" title="statement not covered" >timer.stop();</span></span>
        }
      } catch (err) {
<span class="cstat-no" title="statement not covered" >        _didIteratorError = true;</span>
<span class="cstat-no" title="statement not covered" >        _iteratorError = err;</span>
      } finally {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          if (!_iteratorNormalCompletion &amp;&amp; _iterator['return']) {</span>
<span class="cstat-no" title="statement not covered" >            _iterator['return']();</span>
          }
        } finally {
<span class="cstat-no" title="statement not covered" >          if (_didIteratorError) {</span>
<span class="cstat-no" title="statement not covered" >            throw _iteratorError;</span>
          }
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.timers = null;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var _iteratorNormalCompletion2 = true;</span>
<span class="cstat-no" title="statement not covered" >      var _didIteratorError2 = false;</span>
<span class="cstat-no" title="statement not covered" >      var _iteratorError2 = undefined;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        for (var _iterator2 = _getIterator(this.eventSources), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {</span>
<span class="cstat-no" title="statement not covered" >          var eventSource = _step2.value;</span>
&nbsp;
          //if (eventSource)
<span class="cstat-no" title="statement not covered" >          eventSource.close();</span>
        }
      } catch (err) {
<span class="cstat-no" title="statement not covered" >        _didIteratorError2 = true;</span>
<span class="cstat-no" title="statement not covered" >        _iteratorError2 = err;</span>
      } finally {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          if (!_iteratorNormalCompletion2 &amp;&amp; _iterator2['return']) {</span>
<span class="cstat-no" title="statement not covered" >            _iterator2['return']();</span>
          }
        } finally {
<span class="cstat-no" title="statement not covered" >          if (_didIteratorError2) {</span>
<span class="cstat-no" title="statement not covered" >            throw _iteratorError2;</span>
          }
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.eventSources = null;</span>
    }
&nbsp;
    // -- Events --
&nbsp;
    // Any events expected in the future?
  }, {
    key: 'enqueue',
&nbsp;
    // Add a function to the event queue, to be executed in order.
    value: <span class="fstat-no" title="function not covered" >function enqueue(fn) {</span>
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
<span class="cstat-no" title="statement not covered" >      assert(typeof fn === 'function', 'eventLoop.enqueue called without a function');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (fn) {</span>
<span class="cstat-no" title="statement not covered" >        this.queue.push(fn);</span>
<span class="cstat-no" title="statement not covered" >        this.eventLoop.run();</span>
      }
    }
&nbsp;
    // Wait for completion.  Returns a completion function, event loop will remain
    // active until the completion function is called;
  }, {
    key: 'waitForCompletion',
    value: <span class="fstat-no" title="function not covered" >function waitForCompletion() {</span>
<span class="cstat-no" title="statement not covered" >      var _this3 = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      ++this.expecting;</span>
<span class="cstat-no" title="statement not covered" >      return <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        --_this3.expecting;</span>
<span class="cstat-no" title="statement not covered" >        setImmediate(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >          _this3.eventLoop.run();</span>
        });
      };
    }
&nbsp;
    // Event loop uses this to grab event from top of the queue.
  }, {
    key: 'dequeue',
    value: <span class="fstat-no" title="function not covered" >function dequeue() {</span>
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var fn = this.queue.shift();</span>
<span class="cstat-no" title="statement not covered" >      if (fn) <span class="cstat-no" title="statement not covered" >return fn;</span></span>
<span class="cstat-no" title="statement not covered" >      var _iteratorNormalCompletion3 = true;</span>
<span class="cstat-no" title="statement not covered" >      var _didIteratorError3 = false;</span>
<span class="cstat-no" title="statement not covered" >      var _iteratorError3 = undefined;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        for (var _iterator3 = _getIterator(_Array$from(this.window.frames)), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {</span>
<span class="cstat-no" title="statement not covered" >          var frame = _step3.value;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          var childFn = frame._eventQueue.dequeue();</span>
<span class="cstat-no" title="statement not covered" >          if (childFn) <span class="cstat-no" title="statement not covered" >return childFn;</span></span>
        }
      } catch (err) {
<span class="cstat-no" title="statement not covered" >        _didIteratorError3 = true;</span>
<span class="cstat-no" title="statement not covered" >        _iteratorError3 = err;</span>
      } finally {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          if (!_iteratorNormalCompletion3 &amp;&amp; _iterator3['return']) {</span>
<span class="cstat-no" title="statement not covered" >            _iterator3['return']();</span>
          }
        } finally {
<span class="cstat-no" title="statement not covered" >          if (_didIteratorError3) {</span>
<span class="cstat-no" title="statement not covered" >            throw _iteratorError3;</span>
          }
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
    // Makes an HTTP request.
    //
    // request  - Request object
    // callback - Called with Response object to process the response
    //
    // Because the callback is added to the queue, we can't use promises
  }, {
    key: 'http',
    value: <span class="fstat-no" title="function not covered" >function http(request, callback) {</span>
<span class="cstat-no" title="statement not covered" >      var _this4 = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var done = this.waitForCompletion();</span>
<span class="cstat-no" title="statement not covered" >      this.window.fetch(request).then(<span class="fstat-no" title="function not covered" >function (response) {</span></span>
        // We can't cancel pending requests, but we can ignore the response if
        // window already closed
<span class="cstat-no" title="statement not covered" >        if (_this4.queue)</span>
          // This will get completion function to execute, e.g. to check a page
          // before meta tag refresh
<span class="cstat-no" title="statement not covered" >          _this4.enqueue(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >            callback(null, response);</span>
          });
      })['catch'](<span class="fstat-no" title="function not covered" >function (error) {</span>
<span class="cstat-no" title="statement not covered" >        if (_this4.queue) <span class="cstat-no" title="statement not covered" >callback(error);</span></span>
      }).then(done);
    }
&nbsp;
    // Fire an error event.  Used by JSDOM patches.
  }, {
    key: 'onerror',
    value: <span class="fstat-no" title="function not covered" >function onerror(error) {</span>
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.eventLoop.emit('error', error);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var event = this.window.document.createEvent('Event');</span>
<span class="cstat-no" title="statement not covered" >      event.initEvent('error', false, false);</span>
<span class="cstat-no" title="statement not covered" >      event.message = error.message;</span>
<span class="cstat-no" title="statement not covered" >      event.error = error;</span>
<span class="cstat-no" title="statement not covered" >      this.window.dispatchEvent(event);</span>
    }
&nbsp;
    // -- EventSource --
&nbsp;
  }, {
    key: 'addEventSource',
    value: <span class="fstat-no" title="function not covered" >function addEventSource(eventSource) {</span>
<span class="cstat-no" title="statement not covered" >      var _this5 = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.eventSources.push(eventSource);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var emit = eventSource.emit;</span>
<span class="cstat-no" title="statement not covered" >      eventSource.emit = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        for (var _len = arguments.length, args = Array(_len), _key = 0; _key &lt; _len; _key++) {</span>
<span class="cstat-no" title="statement not covered" >          args[_key] = arguments[_key];</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        _this5.eventLoop.emit('serverEvent');</span>
<span class="cstat-no" title="statement not covered" >        _this5.enqueue(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >          emit.apply(eventSource, args);</span>
        });
      };
    }
&nbsp;
    // -- Timers --
&nbsp;
    // Window.setTimeout
  }, {
    key: 'setTimeout',
    value: <span class="fstat-no" title="function not covered" >function setTimeout(fn) {</span>
<span class="cstat-no" title="statement not covered" >      var _this6 = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var delay = arguments.length &lt;= 1 || arguments[1] === undefined ? 0 : arguments[1];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
<span class="cstat-no" title="statement not covered" >      if (!fn) <span class="cstat-no" title="statement not covered" >return null;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var handle = this.nextTimerHandle;</span>
<span class="cstat-no" title="statement not covered" >      ++this.nextTimerHandle;</span>
<span class="cstat-no" title="statement not covered" >      this.timers[handle] = new Timeout(this, fn, delay, <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        delete _this6.timers[handle];</span>
      });
<span class="cstat-no" title="statement not covered" >      return handle;</span>
    }
&nbsp;
    // Window.clearTimeout
  }, {
    key: 'clearTimeout',
    value: <span class="fstat-no" title="function not covered" >function clearTimeout(handle) {</span>
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var timer = this.timers[handle];</span>
<span class="cstat-no" title="statement not covered" >      if (timer) <span class="cstat-no" title="statement not covered" >timer.stop();</span></span>
    }
&nbsp;
    // Window.setInterval
  }, {
    key: 'setInterval',
    value: <span class="fstat-no" title="function not covered" >function setInterval(fn) {</span>
<span class="cstat-no" title="statement not covered" >      var _this7 = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var interval = arguments.length &lt;= 1 || arguments[1] === undefined ? 0 : arguments[1];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
<span class="cstat-no" title="statement not covered" >      if (!fn) <span class="cstat-no" title="statement not covered" >return null;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var handle = this.nextTimerHandle;</span>
<span class="cstat-no" title="statement not covered" >      ++this.nextTimerHandle;</span>
<span class="cstat-no" title="statement not covered" >      this.timers[handle] = new Interval(this, fn, interval, <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        delete _this7.timers[handle];</span>
      });
<span class="cstat-no" title="statement not covered" >      return handle;</span>
    }
&nbsp;
    // Window.clearInterval
  }, {
    key: 'clearInterval',
    value: <span class="fstat-no" title="function not covered" >function clearInterval(handle) {</span>
<span class="cstat-no" title="statement not covered" >      assert(this.queue, 'This browser has been destroyed');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var timer = this.timers[handle];</span>
<span class="cstat-no" title="statement not covered" >      if (timer) <span class="cstat-no" title="statement not covered" >timer.stop();</span></span>
    }
&nbsp;
    // Returns the timestamp of the next timer event
  }, {
    key: 'expected',
    get: <span class="fstat-no" title="function not covered" >function get() {</span>
<span class="cstat-no" title="statement not covered" >      return !!(this.expecting || _Array$from(this.window.frames).filter(<span class="fstat-no" title="function not covered" >function (frame) {</span></span>
<span class="cstat-no" title="statement not covered" >        return frame._eventQueue.expected;</span>
      }).length);
    }
  }, {
    key: 'next',
    get: <span class="fstat-no" title="function not covered" >function get() {</span>
<span class="cstat-no" title="statement not covered" >      var timers = this.timers.map(<span class="fstat-no" title="function not covered" >function (timer) {</span></span>
<span class="cstat-no" title="statement not covered" >        return timer.next;</span>
      });
<span class="cstat-no" title="statement not covered" >      var frames = _Array$from(this.window.frames).map(<span class="fstat-no" title="function not covered" >function (frame) {</span></span>
<span class="cstat-no" title="statement not covered" >        return frame._eventQueue.next;</span>
      });
<span class="cstat-no" title="statement not covered" >      return timers.concat(frames).sort()[0] || Infinity;</span>
    }
  }]);
&nbsp;
  return EventQueue;
})();
&nbsp;
module.exports = (function (_EventEmitter) {
  _inherits(EventLoop, _EventEmitter);
&nbsp;
  // Instance variables are:
  // active    - Currently active window
  // browser   - Reference to the browser
  // running   - True when inside a run loop
  // waiting   - Counts in-progess calls to wait (waiters?)
&nbsp;
<span class="fstat-no" title="function not covered" >  function EventLoop(browser) {</span>
<span class="cstat-no" title="statement not covered" >    _classCallCheck(this, EventLoop);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    _get(Object.getPrototypeOf(EventLoop.prototype), 'constructor', this).call(this);</span>
<span class="cstat-no" title="statement not covered" >    this.browser = browser;</span>
<span class="cstat-no" title="statement not covered" >    this.active = null;</span>
<span class="cstat-no" title="statement not covered" >    this.running = false;</span>
<span class="cstat-no" title="statement not covered" >    this.waiting = 0;</span>
  }
&nbsp;
  // -- The wait function --
&nbsp;
  // Wait until one of these happen:
  // 1. We run out of events to process; callback is called with null and false
  // 2. The completion function evaluates to true; callback is called with null
  //    and false
  // 3. The time duration elapsed; callback is called with null and true
  // 2. An error occurs; callback is called with an error
  //
  // Duration is specifies in milliseconds or string form (e.g. "15s").
  //
  // Completion function is called with the currently active window (may change
  // during page navigation or form submission) and how long until the next
  // event, and returns true to stop waiting, any other value to continue
  // processing events.
  //
  //
  // waitDuration       - How long to wait (ms)
  // completionFunction - Returns true for early completion
&nbsp;
  _createClass(EventLoop, [{
    key: 'wait',
    value: <span class="fstat-no" title="function not covered" >function wait(waitDuration, completionFunction, callback) {</span>
<span class="cstat-no" title="statement not covered" >      assert(waitDuration, 'Wait duration required, cannot be 0');</span>
<span class="cstat-no" title="statement not covered" >      var eventLoop = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      ++eventLoop.waiting;</span>
      // Someone (us) just started paying attention, start processing events
<span class="cstat-no" title="statement not covered" >      if (eventLoop.waiting === 1) <span class="cstat-no" title="statement not covered" >setImmediate(<span class="fstat-no" title="function not covered" >function () {</span></span></span>
<span class="cstat-no" title="statement not covered" >        return eventLoop.run();</span>
      });
&nbsp;
      // The timer fires when we waited long enough, we need timeoutOn to tell if
      // the next event is past the wait duration and there's no point in waiting
      // further
<span class="cstat-no" title="statement not covered" >      var timer = global.setTimeout(timeout, waitDuration); </span>// eslint-disable-line no-use-before-define
<span class="cstat-no" title="statement not covered" >      var timeoutOn = Date.now() + waitDuration;</span>
&nbsp;
      // Fired after every event, decide if we want to stop waiting
<span class="fstat-no" title="function not covered" >      function ontick(next) {</span>
        // No point in waiting that long
<span class="cstat-no" title="statement not covered" >        if (next &gt;= timeoutOn) {</span>
<span class="cstat-no" title="statement not covered" >          timeout();</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        var activeWindow = eventLoop.active;</span>
<span class="cstat-no" title="statement not covered" >        if (completionFunction &amp;&amp; activeWindow.document.documentElement) <span class="cstat-no" title="statement not covered" >try {</span></span>
<span class="cstat-no" title="statement not covered" >          var waitFor = Math.max(next - Date.now(), 0);</span>
          // Event processed, are we ready to complete?
<span class="cstat-no" title="statement not covered" >          var completed = completionFunction(activeWindow, waitFor);</span>
<span class="cstat-no" title="statement not covered" >          if (completed) <span class="cstat-no" title="statement not covered" >done();</span></span>
        } catch (error) {
<span class="cstat-no" title="statement not covered" >          done(error);</span>
        }
      }
&nbsp;
      // The wait is over ...
<span class="fstat-no" title="function not covered" >      function done(error) {</span>
<span class="cstat-no" title="statement not covered" >        global.clearTimeout(timer);</span>
<span class="cstat-no" title="statement not covered" >        eventLoop.removeListener('tick', ontick);</span>
<span class="cstat-no" title="statement not covered" >        eventLoop.removeListener('idle', done);</span>
<span class="cstat-no" title="statement not covered" >        eventLoop.browser.removeListener('error', done);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        --eventLoop.waiting;</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          callback(error);</span>
        } catch (error) {
          // If callback makes an assertion that fails, we end here.
          // If we throw error synchronously, it gets swallowed.
<span class="cstat-no" title="statement not covered" >          setImmediate(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >            throw error;</span>
          });
        }
      }
&nbsp;
      // We gave up, could be result of slow response ...
<span class="fstat-no" title="function not covered" >      function timeout() {</span>
<span class="cstat-no" title="statement not covered" >        if (eventLoop.expected) <span class="cstat-no" title="statement not covered" >done(new Error('Timeout: did not get to load all resources on this page'));e</span>lse <span class="cstat-no" title="statement not covered" >done();</span></span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      eventLoop.on('tick', ontick);</span>
&nbsp;
      // Fired when there are no more events to process
<span class="cstat-no" title="statement not covered" >      eventLoop.once('idle', done);</span>
&nbsp;
      // Stop on first error reported (document load, script, etc)
      // Event loop errors also propagated to the browser
<span class="cstat-no" title="statement not covered" >      eventLoop.browser.once('error', done);</span>
    }
  }, {
    key: 'dump',
    value: <span class="fstat-no" title="function not covered" >function dump() {</span>
<span class="cstat-no" title="statement not covered" >      var output = arguments.length &lt;= 0 || arguments[0] === undefined ? process.stdout : arguments[0];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (this.running) <span class="cstat-no" title="statement not covered" >output.write('Event loop: running\n');e</span>lse <span class="cstat-no" title="statement not covered" >if (this.expected) <span class="cstat-no" title="statement not covered" >output.write('Event loop: waiting for ' + this.expected + ' events\n');e</span>lse <span class="cstat-no" title="statement not covered" >if (this.waiting) <span class="cstat-no" title="statement not covered" >output.write('Event loop: waiting\n');e</span>lse <span class="cstat-no" title="statement not covered" >output.write('Event loop: idle\n');</span></span></span></span>
    }
&nbsp;
    // -- Event queue management --
&nbsp;
    // Creates and returns a new event queue (see EventQueue).
  }, {
    key: 'createEventQueue',
    value: <span class="fstat-no" title="function not covered" >function createEventQueue(window) {</span>
<span class="cstat-no" title="statement not covered" >      return new EventQueue(window);</span>
    }
&nbsp;
    // Set the active window. Suspends processing events from any other window, and
    // switches to processing events from this window's queue.
  }, {
    key: 'setActiveWindow',
    value: <span class="fstat-no" title="function not covered" >function setActiveWindow(window) {</span>
<span class="cstat-no" title="statement not covered" >      if (window === this.active) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >      this.active = window;</span>
<span class="cstat-no" title="statement not covered" >      this.run(); </span>// new window, new events?
    }
&nbsp;
    // Are there any expected events for the active window?
  }, {
    key: 'run',
&nbsp;
    // -- Event processing --
&nbsp;
    // Grabs next event from the queue, processes it and notifies all listeners.
    // Keeps processing until the queue is empty or all listeners are gone. You
    // only need to bootstrap this when you suspect it's not recursing.
    value: <span class="fstat-no" title="function not covered" >function run() {</span>
<span class="cstat-no" title="statement not covered" >      var _this8 = this;</span>
&nbsp;
      // A lot of code calls run() without checking first, so not uncommon to have
      // concurrent executions of this function
<span class="cstat-no" title="statement not covered" >      if (this.running) <span class="cstat-no" title="statement not covered" >return;</span></span>
      // Is there anybody out there?
<span class="cstat-no" title="statement not covered" >      if (this.waiting === 0) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
      // Give other (Node) events a chance to process
<span class="cstat-no" title="statement not covered" >      this.running = true;</span>
<span class="cstat-no" title="statement not covered" >      setImmediate(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        _this8.running = false;</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
&nbsp;
          // Are there any open windows?
<span class="cstat-no" title="statement not covered" >          if (!_this8.active) {</span>
<span class="cstat-no" title="statement not covered" >            _this8.emit('idle');</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
          // Don't run event outside browser.wait()
<span class="cstat-no" title="statement not covered" >          if (_this8.waiting === 0) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          var jsdomQueue = _this8.active.document._queue;</span>
<span class="cstat-no" title="statement not covered" >          var _event = _this8.active._eventQueue.dequeue();</span>
<span class="cstat-no" title="statement not covered" >          if (_event) {</span>
            // Process queued function, tick, and on to next event
<span class="cstat-no" title="statement not covered" >            _event();</span>
<span class="cstat-no" title="statement not covered" >            _this8.emit('tick', 0);</span>
<span class="cstat-no" title="statement not covered" >            _this8.run();</span>
          } else <span class="cstat-no" title="statement not covered" >if (_this8.expected &gt; 0)</span>
            // We're waiting for some events to come along, don't know when,
            // but they'll call run for us
<span class="cstat-no" title="statement not covered" >            _this8.emit('tick', 0);e</span>lse <span class="cstat-no" title="statement not covered" >if (jsdomQueue.tail) {</span>
<span class="cstat-no" title="statement not covered" >            jsdomQueue.resume();</span>
<span class="cstat-no" title="statement not covered" >            _this8.run();</span>
          } else {
            // All that's left are timers, and not even that if next == Infinity
<span class="cstat-no" title="statement not covered" >            var next = _this8.active._eventQueue.next;</span>
<span class="cstat-no" title="statement not covered" >            if (isFinite(next)) <span class="cstat-no" title="statement not covered" >_this8.emit('tick', next);e</span>lse <span class="cstat-no" title="statement not covered" >_this8.emit('idle');</span></span>
          }
        } catch (error) {
<span class="cstat-no" title="statement not covered" >          _this8.emit('error', error);</span>
        }
      });
    }
  }, {
    key: 'expected',
    get: <span class="fstat-no" title="function not covered" >function get() {</span>
<span class="cstat-no" title="statement not covered" >      return this.active &amp;&amp; this.active._eventQueue.expected;</span>
    }
  }]);
&nbsp;
  return EventLoop;
})(EventEmitter);
//# sourceMappingURL=eventloop.js.map
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Mon Apr 17 2017 20:51:40 GMT+0000 (UTC)</div>
</div>
</body>
</html>
